---
const skills = [
  // Fila 1
  { name: 'HTML5', icon: '/icons/html.svg' },
  { name: 'CSS3', icon: '/icons/css.svg' },
  { name: 'JavaScript', icon: '/icons/javascript.svg' },
  // Fila 2
  { name: 'TypeScript', icon: '/icons/typescript.svg' },
  { name: 'React', icon: '/icons/react.svg' },
  { name: 'Next.js', icon: '/icons/nextjs.svg' },
  // Fila 3
  { name: 'Astro', icon: '/icons/astro.svg' },
  { name: 'Node.js', icon: '/icons/nodejs.svg' },
  { name: 'Tailwind CSS', icon: '/icons/tailwind.svg' },
  // Fila 4
  { name: 'Express', icon: '/icons/express.svg' },
  { name: 'Git', icon: '/icons/git.svg' },
  { name: 'MongoDB', icon: '/icons/mongodb.svg' },
];

const tools = [
  'VS Code',
  'Vite',
  'GitHub',
  'Vercel'
];

const knowledge = [
  'Responsive design',
  'Clean code',
  'SCRUM',
  'UX/UI principles',
  'SEO best practices',
];
---

<section id="skills" class="section bg-background transition-all duration-300 py-16">
  <div class="container">
    <!-- Fila superior: título, línea y texto -->
    <div class="mb-10 w-full">
      <h2 class="text-3xl md:text-4xl text-center font-bold mb-4">Skills</h2>
      <div class="w-20 h-1 bg-primary mb-6"></div>
      <h2 class="text-2xl text-gray-700 dark:text-gray-300 text-primary flex gap-2 mb-6">
        <img src="/icons/technology.svg" alt="Tools Icon" class="w-10 h-10" />
        Technologies
      </h2>
    </div>
    <div class="flex flex-col md:flex-row w-full md:items-start">
      <div class="w-full md:w-[50%]">
        <div class="grid grid-cols-3 gap-3 md:gap-4">
          {skills.map((skill) => (
            <div class="skill-item">
              <div class="skill-oval">
                <span class="skill-text">{skill.name}</span>
                <img src={skill.icon} alt={skill.name} class="skill-icon" />
              </div>
            </div>
          ))}
        </div>
      </div>

      <div class="hidden md:block md:w-[10%]"></div>

      <div class="w-full md:w-[20%] flex flex-col tools-knowledge-block-col self-start md:mt-0">
        <h3 class="text-2xl text-gray-700 dark:text-gray-300 font-semibold mb-3 text-primary flex items-center gap-2 justify-center md:justify-start">
          <img src="/icons/tools.svg" alt="Tools Icon" class="w-10 h-10" />
          Tools
        </h3>
        <ul class="tools-list-col">
          {tools.map(tool => (
            <li class="flex items-center gap-2">
              <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
              {tool}
            </li>
          ))}
        </ul>
      </div>
      <!-- Knowledge: 20% -->
      <div class="w-full md:w-[20%] flex flex-col tools-knowledge-block-col self-start md:mt-0">
        <h3 class="text-2xl text-gray-700 dark:text-gray-300 font-semibold mb-3 text-primary flex items-center gap-2 justify-center md:justify-start">
          <img src="/icons/light.svg" alt="Knowledge Icon" class="w-10 h-10" />
          Knowledge
        </h3>
        <ul class="knowledge-list-col">
          {knowledge.map(item => (
            <li class="flex items-center gap-2">
              <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
              {item}
            </li>
          ))}
        </ul>
      </div>
      <!-- Espacio en blanco derecho: 10% -->
      <div class="hidden md:block md:w-[10%]"></div>
    </div>
  </div>
</section>

<style>
  @import '../styles/flip.css';
  
  .skill-item {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 0.5rem;
  }
  
  .skill-oval {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    background: white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    min-width: 3rem;
    min-height: 3rem;
  }
  
  .dark .skill-oval {
    background: #2d3748;
  }
  
  .skill-oval:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.13);
    padding: 0.75rem;
    width: 3rem;
    height: 3rem;
  }
  
  .skill-text {
    font-size: 0.85rem;
    font-weight: 500;
    color: #374151;
    position: relative;
    z-index: 1;
    transition: opacity 0.3s ease;
  }
  
  .dark .skill-text {
    color: #e2e8f0;
  }
  
  .skill-oval:hover .skill-text {
    opacity: 0;
  }
  
  .skill-icon {
    width: 1.5rem;
    height: 1.5rem;
    opacity: 0;
    transition: opacity 0.3s ease;
    position: absolute;
  }
  
  .skill-oval:hover .skill-icon {
    opacity: 1;
    animation: flip 0.5s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
  }
  
  .tools-knowledge-block-col {
    background: none;
    border-radius: 0;
    box-shadow: none;
    padding: 0;
    margin-bottom: 0.5rem;
    min-width: 0;
  }
  .dark .tools-knowledge-block-col {
    background: none;
  }
  .tools-list-col, .knowledge-list-col {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-start;
  }
  .tools-list-col li, .knowledge-list-col li {
    font-size: 1rem;
    color: #374151;
    background: transparent;
    border-radius: 0.5rem;
    padding: 0.1rem 0.2rem;
    font-weight: 500;
    transition: background 0.2s;
    width: 100%;
    text-align: left;
  }
  .dark .tools-list-col li:hover, .dark .knowledge-list-col li:hover {
    background: #2d3748;
  }
  @media (max-width: 1024px) {
    .w-2\/5, .md\:w-2\/5 {
      width: 100%;
      max-width: 100%;
    }
    .w-3\/5, .md\:w-3\/5 {
      width: 100%;
      max-width: 100%;
    }
    .flex-col.md\:flex-row {
      flex-direction: column;
    }
    .tools-knowledge-block-col {
      min-width: 0;
    }
  }
  @media (max-width: 768px) {
    .grid-cols-3 {
      grid-template-columns: repeat(3, 1fr);
    }
    .skill-oval {
      padding: 0.4rem 0.8rem;
    }
    .tools-knowledge-block-col {
      padding: 0;
    }
    .flex-col.md\:flex-row {
      flex-direction: column;
    }
  }
  
  @media (max-width: 480px) {
    .skill-oval {
      padding: 0.3rem 0.6rem;
    }
  }
</style>